<!-- <div class="container m-5">
    <h2>Perfil de Usuario</h2>

      <div class="form-group">
        <label for="nombre">Nombre:</label>
        <input
          type="text"
          id="nombre"
          name="nombre"
          [(ngModel)]="user.Nombre"
          required
          class="form-control"
          readonly
        />
      </div>
      <div class="form-group">
        <label for="apellidos">Apellidos:</label>
        <input
          type="text"
          id="apellidos"
          name="apellidos"
          [(ngModel)]="user.Apellidos"
          required
          class="form-control"
          readonly
        />
      </div>
      <div class="form-group">
        <label for="telefono">Teléfono:</label>
        <input
          type="text"
          id="telefono"
          name="telefono"
          [(ngModel)]="user.Telefono"
          required
          class="form-control"
          readonly
        />
      </div>
      <div class="form-group">
        <label for="email">Email:</label>
        <input
          type="email"
          id="email"
          name="email"
          [(ngModel)]="user.Email"
          required
          class="form-control"
          readonly
        />
      </div>
      <div class="form-group">
        <label for="password">Contraseña:</label>
        <input
          type="password"
          id="password"
          name="password"
          [(ngModel)]="user.Password"
          required
          class="form-control"
        />
      </div>
      <form (ngSubmit)="onLogout()">
        <button type="submit" class="btn  bg-danger-subtle text-danger mt-5 justify-content-center" >Cerrar sesion</button>
      </form>

  </div> -->
  
   <div class="container mt-5">
    <!-- Información Personal -->
    <div class="row m-5">
      <div class="col-md-3 text-center m-3">
        @if(user.foto){
          <img src="{{user.foto}}" class="m-3 img-thumbnail" alt="Foto de perfil">   
        }@else{
          <mat-icon>add_a_photo</mat-icon>
        }
   
          
      </div>

        

      
      <div class="col-md-8 m-3">
        <h2>Información Personal</h2>
        <div class="mb-3">
          <label for="nombre" class="form-label">Nombre completo</label>
          <input type="text" class="form-control" id="nombre" value="{{user.Nombre}} {{user.Apellidos}}">
        </div>
        <div class="mb-3">
          <label for="email" class="form-label">Correo electrónico</label>
          <input type="email" class="form-control" id="email" [(ngModel)]="user.Email" readonly>
        </div>
        <div class="mb-3">
          <label for="telefono" class="form-label">Teléfono</label>
          <input type="tel" class="form-control" id="telefono" value="{{user.Telefono}}" readonly>
        </div>
        <div class="row m-0">
          <button class="btn btn-primary m-1 col-4 ">Editar información</button>
          <button class="btn bg-danger-subtle text-danger m-1 col-4" type="submit" (click)="secondOportunityLogout()">Cerrar sesion</button>
        </div>

      </div>
    </div>
  
    <!-- Direcciones -->
    <div class="row mb-5">
      <div class="col-12">
        <h2>Mi Dirección</h2>
        <ul class="list-group">
          <li id="pep"class="list-group-item d-flex justify-content-between align-items-center">
            {{user.Direccion}}
            <div>
              <button class="btn btn-sm btn-outline-primary me-2" (click)="tryfuncion()">Editar</button>
              <button class="btn btn-sm btn-outline-danger">Eliminar</button>
            </div>
          </li>
        </ul>
      </div>
    </div>
  
    <div class="row mb-5">
      <div class="col-12">
        <h2>Pedidos Activos</h2>
        <div class="card mb-3">
          <div class="card-body">
    @if(ActiveOrders.length == 0){
        <p>No hay Pedidos Activos</p>
    }@else{

      @for(order of ActiveOrders; track ActiveOrders){
        <h5 class="card-title"></h5>
        <p class="card-text">Estado: {{order.Estado_Pedido}}</p>
        <p class="card-text">Total: {{order.Total}}</p>
        <p class="card-text">Fecha y hora: {{order.Fecha_Hora_Pedido}}</p>
        <button class="btn btn-info me-2">Ver detalles</button>
        <button class="btn btn-warning">Cancelar pedido</button>
        <hr>
      }

    }
          </div>
        </div>
      </div>
    </div>
  
    <!-- Historial de Pedidos -->
    <div class="row mb-5">
      <div class="col-12">
        <h2>Historial de Pedidos</h2>
        <table class="table">
          <thead>
            <tr>
              <th>Fecha</th>
              <th>Restaurante</th>
              <th>Total</th>
              <th>Acciones</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>2024-10-20</td>
              <td>Burger King</td>
              <td>15.99€</td>
              <td><button class="btn btn-sm btn-outline-secondary">Repetir pedido</button></td>
            </tr>
            <tr>
              <td>2024-10-18</td>
              <td>Sushi Express</td>
              <td>25.50€</td>
              <td><button class="btn btn-sm btn-outline-secondary">Repetir pedido</button></td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  
    <div class="row mb-5">
      <div class="col-12">
        <h2>Mis Restaurantes Favoritos</h2>
    
    @if(FavoriteShops.length == 0){
      <p>No hay tiendas favoritas todavía</p>
    }@else{

      @for(favoriteShop of FavoriteShops; track FavoriteShops){
          <div class="row row-cols-1 row-cols-md-3 g-4">
            <div class="col">
              <div class="card">
                <img src="{{favoriteShop.foto}}" class="card-img-top" alt="Restaurante 2">
                <div class="card-body">
                  <h5 class="card-title">{{favoriteShop.Nombre}}</h5>
                  <h5 class="card-text">{{favoriteShop.Tipo}}</h5>
                  <h5 class="card-text">{{favoriteShop.Direccion}}</h5>
                  <button class="btn btn-sm btn-outline-danger">Quitar de favoritos</button>
                </div>
              </div>
            </div>
          </div>
        }
    }

  </div>
</div>
    <!-- Restaurantes Favoritos -->
    
  
    <!-- Preferencias -->
    <div class="row mb-5">
      <div class="col-12">
        <h2>Mis Preferencias</h2>
        <div class="mb-3">
          <label class="form-label">Opciones de dieta</label>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" value="" id="vegetariano">
            <label class="form-check-label" for="vegetariano">Vegetariano</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" value="" id="sinGluten">
            <label class="form-check-label" for="sinGluten">Sin gluten</label>
          </div>
        </div>
        <div class="mb-3">
          <label for="notificaciones" class="form-label">Notificaciones</label>
          <select class="form-select" id="notificaciones">
            <option>Email</option>
            <option>SMS</option>
            <option>Push</option>
          </select>
        </div>
        <button class="btn btn-primary">Guardar preferencias</button>
      </div>
    </div>
  
    <!-- Programa de Fidelidad -->
    <div class="row mb-5">
      <div class="col-12">
        <h2>Programa de Fidelidad</h2>
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">Nivel Oro</h5>
            <p class="card-text">Puntos acumulados